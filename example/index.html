<!DOCTYPE html>
<html>
	<head>
		<title>a quick DayToDay calendar example</title>
		<link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Holtwood+One+SC|Ubuntu:400,500,700|Quattrocento Sans:400" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" type="text/css" href="site.css">
		<!-- stupid Chrome -->
		<!--<script src="lib/less-1.2.1.min.js" type="text/javascript"></script>-->
	</head>
	<body>
		<h1>Yo, a calendar example for you!</h1>
		<div id="current-date">1-1-2012</div>
		<div id="calendar-container" />

		<script src="lib/jquery-1.7.1.js"></script>
		<script src="lib/date.js"></script>
		<script src="../daytoday.js"></script>

		<script>

			// example day decorator in JavaScript
			function decorateDay (dayContainer, day, events) {
				
				// build the heavy array ahead of time.
				var yellowdays = [];
				for (var i = 0; i < 350; i++) {	yellowdays.push(i); }
				
				try {
			      var currentDay = $.grep(events, function(el, idx) {return el.Day == day; })[0];
			      if (currentDay != null) {
			        if (currentDay.Minutes >= 350) dayContainer.addClass('greenday');
			        if ($.inArray(currentDay.Minutes, yellowdays) != -1) dayContainer.addClass('yellowday');
			        if (currentDay.Minutes === 0) dayContainer.addClass('redday');
			      } 
			      else {
			        dayContainer.addClass('redday');
			      }
			    } catch (error) {
			    	console.log (error);
			    }
			}
			
			var data = [ { Day: 4, Minutes: 380 }, {Day: 1, Minutes: 14}, {Day: 6, Minutes: 220} ];

			Application.dayToDay( {
				container: $('#calendar-container'),
				dayDecorator: decorateDay,
				selectedDate: Date.parse($('#current-date').text()),
				events: data,
				includeNavigation: true,
				debug: true
			});
		</script>
	</body>
</html>